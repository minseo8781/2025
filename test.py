import streamlit as st
import random

st.set_page_config(page_title="ğŸ§³ ì—¬í–‰ ì·¨í–¥ í…ŒìŠ¤íŠ¸", page_icon="ğŸŒ", layout="centered")
st.title("ğŸ§³ ì—¬í–‰ ì·¨í–¥ í…ŒìŠ¤íŠ¸")
st.write("ì§ˆë¬¸ì— ë‹µí•˜ë©´ ë‹¹ì‹ ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì—¬í–‰ì§€ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤! âœ¨")

# 1. ì§ˆë¬¸
q1 = st.radio("1ï¸âƒ£ ìì—°í™˜ê²½ ì„ í˜¸", ["ğŸ”ï¸ ì‚°", "ğŸ–ï¸ ë°”ë‹¤"])
q2 = st.radio("2ï¸âƒ£ ê³„ì ˆ ì„ í˜¸", ["â˜€ï¸ ì—¬ë¦„", "â„ï¸ ê²¨ìš¸"])
q3 = st.radio("3ï¸âƒ£ ì—¬í–‰ ìŠ¤íƒ€ì¼", ["ğŸ„â€â™‚ï¸ ì•¡í‹°ë¹„í‹°", "ğŸ›Œ íœ´ì–‘"])
q4 = st.radio("4ï¸âƒ£ ë„ì‹œ vs ìì—°", ["ğŸ™ï¸ ë„ì‹œ", "ğŸŒ² ìì—°"])

# 2. ì—¬í–‰ì§€ ë°ì´í„° (ì‚¬ì§„ + ì„¤ëª…)
destinations = [
    {
        "name": "ì œì£¼ë„, í•œêµ­",
        "tags": ["ë°”ë‹¤", "ì—¬ë¦„", "íœ´ì–‘", "ìì—°"],
        "image": "https://cdn.pixabay.com/photo/2017/03/28/12/10/jeju-2182873_1280.jpg",
        "description": "ë§‘ì€ ë°”ë‹¤ì™€ í•œë¼ì‚°ì´ ì–´ìš°ëŸ¬ì§„ ìì—° íœ´ì–‘ì§€. í•´ìˆ˜ìš•, ì˜¤ë¦„ íŠ¸ë ˆí‚¹, ì¹´í˜ ì—¬í–‰ê¹Œì§€ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”."
    },
    {
        "name": "ìŠ¤ìœ„ìŠ¤ ì•Œí”„ìŠ¤",
        "tags": ["ì‚°", "ê²¨ìš¸", "ì•¡í‹°ë¹„í‹°", "ìì—°"],
        "image": "https://cdn.pixabay.com/photo/2018/03/01/10/03/swiss-3194321_1280.jpg",
        "description": "ëˆˆ ë®ì¸ ì‚°ê³¼ ìŠ¤í‚¤, í•˜ì´í‚¹ ë“± ì•¡í‹°ë¹„í‹° ì¦ê¸°ê¸° ì¢‹ì€ ê²¨ìš¸ ì—¬í–‰ì§€."
    },
    {
        "name": "ëª°ë””ë¸Œ",
        "tags": ["ë°”ë‹¤", "ì—¬ë¦„", "íœ´ì–‘", "ìì—°"],
        "image": "https://cdn.pixabay.com/photo/2016/12/06/18/27/maldives-1883333_1280.jpg",
        "description": "í‘¸ë¥¸ ë°”ë‹¤ì™€ ë¦¬ì¡°íŠ¸ì—ì„œ ì—¬ìœ ë¡­ê²Œ íœ´ì–‘ì„ ì¦ê¸°ê¸° ì™„ë²½í•œ ì„¬."
    },
    {
        "name": "íŒŒë¦¬, í”„ë‘ìŠ¤",
        "tags": ["ë„ì‹œ", "ì—¬ë¦„", "íœ´ì–‘", "ë„ì‹œ"],
        "image": "https://cdn.pixabay.com/photo/2015/03/26/09/54/eiffel-tower-690293_1280.jpg",
        "description": "ì˜ˆìˆ ê³¼ ë¬¸í™”ì˜ ë„ì‹œ. ê´€ê´‘, ì‡¼í•‘, ì¹´í˜ íˆ¬ì–´ê¹Œì§€ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”."
    },
    {
        "name": "í˜¸ì£¼ ê³¨ë“œì½”ìŠ¤íŠ¸",
        "tags": ["ë°”ë‹¤", "ì—¬ë¦„", "ì•¡í‹°ë¹„í‹°", "ìì—°"],
        "image": "https://cdn.pixabay.com/photo/2017/04/03/11/52/surfing-2203361_1280.jpg",
        "description": "ì„œí•‘, ë‹¤ì´ë¹™ ë“± ì•¡í‹°ë¹„í‹°ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆëŠ” í•´ë³€ ë„ì‹œ."
    },
    {
        "name": "ë…¸ë¥´ì›¨ì´ í”¼ì˜¤ë¥´",
        "tags": ["ì‚°", "ê²¨ìš¸", "íœ´ì–‘", "ìì—°"],
        "image": "https://cdn.pixabay.com/photo/2017/01/20/19/53/norway-1998850_1280.jpg",
        "description": "ê²¨ìš¸ í’ê²½ê³¼ í”¼ì˜¤ë¥´ íˆ¬ì–´, ì˜¤ë¡œë¼ ê´€ì¸¡ê¹Œì§€ ìì—°ì„ ë§Œë½í•  ìˆ˜ ìˆì–´ìš”."
    }
]

# 3. ë‹µë³€ ê¸°ë°˜ ì¶”ì²œ
if st.button("ğŸŒŸ ì—¬í–‰ì§€ ì¶”ì²œ ë°›ê¸°"):
    user_tags = []
    user_tags.append("ì‚°" if q1=="ğŸ”ï¸ ì‚°" else "ë°”ë‹¤")
    user_tags.append("ì—¬ë¦„" if q2=="â˜€ï¸ ì—¬ë¦„" else "ê²¨ìš¸")
    user_tags.append("ì•¡í‹°ë¹„í‹°" if q3=="ğŸ„â€â™‚ï¸ ì•¡í‹°ë¹„í‹°" else "íœ´ì–‘")
    user_tags.append("ë„ì‹œ" if q4=="ğŸ™ï¸ ë„ì‹œ" else "ìì—°")

    # íƒœê·¸ ë§¤ì¹­
    matches = [d for d in destinations if all(tag in d["tags"] for tag in user_tags)]
    
    # ë§¤ì¹­ ì—†ìœ¼ë©´ ëœë¤ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°
    if matches:
        choice = random.choice(matches)
    else:
        choice = random.choice(destinations)

    st.subheader(f"âœˆï¸ ì¶”ì²œ ì—¬í–‰ì§€: {choice['name']}")
    st.image(choice["image"], use_column_width=True)
    st.write(choice["description"])
